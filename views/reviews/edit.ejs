<% layout('layouts/boilerplate') %>

<div class="container py-5">
  <div class="card shadow-lg border-0 rounded-4 p-5 mx-auto" style="max-width: 700px;">
    <h3 class="fw-bold mb-4 text-primary text-center">Edit Your Review</h3>

    <form action="/professors/<%= professorId %>/reviews/<%= review._id %>?_method=PUT" method="POST">
      <div class="mb-4">
        <label class="form-label fw-semibold">Your Review</label>
        <textarea name="review[body]" class="form-control" rows="4" placeholder="Share your experience..."><%= review.body %></textarea>
      </div>

      <div class="row mb-4 g-3">
        <div class="col-md-4">
          <label class="form-label fw-semibold">Attendance</label>
          <select name="review[attendance]" class="form-select">
            <% for (let i = 1; i <= 5; i++) { %>
              <option value="<%= i %>" <%= review.attendance === i ? 'selected' : '' %>><%= '⭐'.repeat(i) %></option>
            <% } %>
          </select>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-semibold">Grading</label>
          <select name="review[grading]" class="form-select">
            <% for (let i = 1; i <= 5; i++) { %>
              <option value="<%= i %>" <%= review.grading === i ? 'selected' : '' %>><%= '⭐'.repeat(i) %></option>
            <% } %>
          </select>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-semibold">FYP Support</label>
          <select name="review[fypSupport]" class="form-select">
            <% for (let i = 1; i <= 5; i++) { %>
              <option value="<%= i %>" <%= review.fypSupport === i ? 'selected' : '' %>><%= '⭐'.repeat(i) %></option>
            <% } %>
          </select>
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 fw-semibold">Update Review</button>
    </form>
  </div>
</div>


